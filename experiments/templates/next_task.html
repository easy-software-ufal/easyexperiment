<!DOCTYPE html>
<html>
<head>
    <title>Run Task</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }
        .imgbox {
            display: grid;
            height: 100%;
        }
        .center-fit {
            max-width: 100%;
            max-height: 100vh;
            margin: auto;
        }
    </style>
</head>
<body>
    <img class="center-fit" src="{{ execution.task.image.url }}" alt="Image not found" />

    <form action="/experiments/next-task/{{participant_id}}/{{experiment_id}}/" method="get">
        <input type="hidden" value="{{execution.id}}" name="previous_execution_id" />
        <button class="hide" id="next_task_button">
    </form>

    <script type="text/javascript">
        var state = 'running';

        document.body.addEventListener("click", function(evt) {
            window.location.href = "/experiments/pause-execution/{{ execution.id }}/";
        });
        /*document.body.onkeyup = function(e){
            if(e.ctrlKey) {
                console.log(state);
                if(e.keyCode == 78){
                    // Ctrl + n => next task
                    document.getElementById("next_task_button").click()
                } else if(e.keyCode == 80) {
                    // Ctrl + p => pause
                    if (state == 'running') {
                        state = 'paused';
                        pauseExecution();
                    }
                } else if(e.keyCode == 82) {
                    // Ctrl + r => resume
                    if (state == 'paused') {
                        state = 'running';
                        resumeExecution();
                    }
                } else if(e.keyCode == 69) {
                    // Ctrl + e => increment_error
                    if (state == 'running') {
                        incrementNumberOfErrors();
                    }
                }
            }

        }*/
    </script>
</body>
</html>

